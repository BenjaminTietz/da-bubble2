<div class="wrapper-channel-answers">

    <div class="container-channel" *ngIf="dataLoaded">

        <div class="container-channel-header">
            <div class="name-header">
                <span># {{ channel.chanName }}</span>
                <mat-icon>expand_more</mat-icon>
            </div>



            <div class="header-member">


                <div class="img-member">
                    <img *ngFor="let user of channel.users" [src]="user.photoURL ? user.photoURL : user.avatarURL "
                        alt="user images">
                    <!-- Später wieder löschen, nur für css da: -->
                    <img src="../../../assets/img/character_1.png" alt="">
                    <img src="../../../assets/img/character_2.png" alt="">
                    <img src="../../../assets/img/character_3.png" alt="">

                    <!--  Code bis hierher löschen         -->


                    <div class="amount-user">
                        <span>{{ channel.users.length }}</span>
                    </div>
                </div>

                <div class="add-member">
                    <mat-icon (click)="openDialogAddUserToChannel(channel)">person_add</mat-icon>
                </div>


            </div>


        </div>


        <div class="container-posts">
            <div class="container-single-post" *ngFor="let post of listPosts; let i = index">
                <div class="container-user-img">
                    <img [src]="post.user.avatarURL ? '../../../'+post.user.avatarURL : post.user.photoURL"
                        alt="img user">
                </div>

                <div class="container-post">
                    <div class="name-and-time">
                        <b>{{ post.user.name }}</b>
                        <span>{{ post.time }} Uhr</span>
                    </div>

                    <div class="post-content">
                        {{ post.content }}
                    </div>

                    <div (click)="openAnswers(i)" class="answers">
                        <span>{{ post.answers.length }} Antwort<span
                                *ngIf="post.answers.length == 0 || post.answers.length > 1">en</span></span>
                        <span *ngIf="post.answers.length > 0">Letzte Antwort {{ post.answers[post.answers.length -
                            1].time
                            }}</span>
                    </div>

                    <div class="reactions">

                    </div>
                </div>
            </div>
        </div>


        <div class="container-new-message">
            <textarea [(ngModel)]="newPost.content" name="" id="" cols="30" rows="auto"
                [placeholder]="'Nachricht an #' + channel.chanName"></textarea>

            <div class="container-icons">
                <div class="icons-left">
                    <mat-icon matTooltip="add file">add</mat-icon>
                    <div class="vertical-line"></div>
                    <mat-icon matTooltip="add emoji">add_reaction</mat-icon>
                    <mat-icon>alternate_email</mat-icon>
                </div>

                <div class="icons-right">
                    <mat-icon (click)="createPost(channel)" matTooltip="send">send</mat-icon>
                </div>
            </div>
        </div>
    </div>




    <div *ngIf="showAnswers && dataLoaded && listPosts[postDetail]" class="container-answers">
        <div class="answers-header">
            <div class="answers-header-left-side">
                <span>Thread</span>
                <span># {{ channel.chanName }}</span>
            </div>

            <mat-icon (click)="hideAnswers()">close</mat-icon>
        </div>


        <div class="original-post">

            <div class="container-user-img">
                <img [src]="listPosts[postDetail].user.avatarURL ? '../../../'+listPosts[postDetail].user.avatarURL : listPosts[listPosts].user.photoURL"
                    alt="img user">
            </div>

            <div class="container-post">
                <div class="name-and-time">
                    <b>{{ listPosts[postDetail].user.name }}</b>
                    <span>{{ listPosts[postDetail].time }} Uhr</span>
                </div>

                <div class="post-content">
                    {{ listPosts[postDetail].content }}
                </div>

                <div class="reactions">

                </div>

            </div>

        </div>


        <div class="line-answers">
            <div class="amount-answers">
                {{ listPosts[postDetail].answers.length }} Antwort<span
                    *ngIf="listPosts[postDetail].answers.length == 0 || listPosts[postDetail].answers.length > 1">en</span>
            </div>
            <div class="line"></div>

        </div>


        <div *ngFor="let answer of listPosts[postDetail].answers" class="single-answers">

            <div class="container-user-img">
                <img [src]="answer.user.avatarURL ? '../../../'+answer.user.avatarURL : answer.user.photoURL"
                    alt="img user">
            </div>

            <div class="container-post">
                <div class="name-and-time">
                    <b>{{ answer.user.name }}</b>
                    <span>{{ answer.time }} Uhr</span>
                </div>

                <div class="post-content">
                    {{ answer.content }}
                </div>

                <div class="reactions">

                </div>

            </div>

        </div>



        <div class="container-new-message">
            <textarea [(ngModel)]="newAnswer.content" name="" id="" cols="30" rows="auto"
                [placeholder]="'Antworten...'"></textarea>

            <div class="container-icons">
                <div class="icons-left">
                    <mat-icon matTooltip="add file">add</mat-icon>
                    <div class="vertical-line"></div>
                    <mat-icon matTooltip="add emoji">add_reaction</mat-icon>
                    <mat-icon>alternate_email</mat-icon>
                </div>

                <div class="icons-right">
                    <mat-icon (click)="createAnswer(channel.id, listPosts[postDetail])"
                        matTooltip="send">send</mat-icon>
                </div>
            </div>
        </div>







    </div>



</div>