<div class="start-conversation-wrapper">
    <div class="start-conversation-top">
      <h1>Neue Nachricht</h1>
      <input placeholder="An: #channel oder @jemanden oder E-Mail Adresse" [(ngModel)]="searchText" (ngModelChange)="search()">
      <div class="search-result-recipients">
        <!--Hier kommen die Empfänger hin-->
        <div *ngFor="let channel of channelResults" (click)="selectChannel(channel)">
          {{ channel.chanName || channel.description || 'Unbekannter Kanal' }}
        </div>
        <div *ngFor="let user of userResults" (click)="selectedItem = user; addToRecipientList(user)">
          {{ user.name || 'Unbekannter Benutzer' }}
        </div>
    </div>

    <div class="start-conversation-messages">
        <div *ngIf="channelResults.length > 0">
            <h2>Kanal Ergebnisse</h2>
            <ul>
                <li *ngFor="let channel of channelResults" (click)="selectChannel(channel)">
                    {{ channel.chanName || channel.description || 'Unbekannter Kanal' }}
                </li>
            </ul>
        </div>
          
          <div *ngIf="userResults.length > 0">
            <h2>Benutzer Ergebnisse</h2>
            <ul>
                <li *ngFor="let user of userResults" (click)="selectedItem = user; addToRecipientList(user)">
                    {{ user.name || 'Unbekannter Benutzer' }}
                  </li>
              </ul>
          </div>
        <!-- Hier kommen die Nachrichten hin -->

    <div class="start-conversation-bottom">
        <div class="container-new-message">
          <textarea [(ngModel)]="messageText"></textarea>
      

                          <!-- Emoji Picker -->
                          <div class="inputfield-emoji-picker">
                            <emoji-mart
                              (emojiClick)="selectEmoji($event)"
                              *ngIf="emojiPickerAnswerVisible"
                              title="Pick your emoji…"
                              emoji="point_up"
                            ></emoji-mart>
                          </div>

          <div class="container-icons">
            <div class="icons-left">
              <mat-icon matTooltip="add file">add</mat-icon>
              <div class="vertical-line"></div>
              <mat-icon (click)="toggleSetEmojiPicker()" matTooltip="add emoji">add_reaction</mat-icon>
              <mat-icon>alternate_email</mat-icon>
            </div>
      
            <div class="icons-right" (click)="startChat()">
              <mat-icon  matTooltip="send">send</mat-icon>
            </div>
          </div>
        </div>
      </div>

</div>
